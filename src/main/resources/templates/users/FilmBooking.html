<!DOCTYPE html>
<html class="no-js" lang="en" xmlns:th="http://www.springframework.org/schema/data/jaxb">

<head>
    <title>FILMBOOKING</title>
    <link rel="stylesheet" th:href="@{/users/css/web.css}">
    <link rel="icon" th:href="@{/users/img/logo.png}" type="ima ge/x-icon"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" th:href="@{/admin/css/mobiscroll.javascript.min.css}">
    <script th:src="@{/admin/js/mobiscroll.javascript.min.js}"></script>
</head>

<body>
<div th:replace="~{/layout/Header :: header}"></div>
<div class="slide-container">
    <div class="slide fade">
        <img th:src="@{/users/img/banner6.jpg}" style="width:100%;" alt="Slide 1">

    </div>

    <div class="slide fade">
        <img th:src="@{/users/img/banner7.jpg}" style="width:100%;" alt="Slide 2">
    </div>

    <div class="slide fade">
        <img th:src="@{/users/img/banner8.png}" style="width:100%;" alt="Slide 3">
    </div>
    <a class="prev" onclick="plusSlide(-1)">&#10094</a>
    <a class="next" onclick="plusSlide(1)">&#10095</a>
    <div class="dots">
        <span class="dot" onclick="currentSlide(1)"></span>
        <span class="dot" onclick="currentSlide(2)"></span>
        <span class="dot" onclick="currentSlide(3)"></span>
    </div>

</div>


<!-- header -->

<h2>FILMBOOKING</h2>
<div class="warpper">
    <input class="radio" id="one" name="group" type="radio" checked>
    <input class="radio" id="two" name="group" type="radio">
    <input class="radio" id="three" name="group" type="radio">
    <div class="tabs">
        <label class="tab" id="one-tab" for="one">PHIM ĐANG CHIẾU</label>
        <label class="tab" id="two-tab" for="two">PHIM SẮP CHIẾU</label>
    </div>
    <div class="panels">
        <div class="panel" id="one-panel">

            <form th:action="@{/filmbooking/trangchu}">
                <div style="margin: 0px 0px 60px 0px;box-shadow: 1px 2px 15px 1px #979797;padding: 20px;border-radius: 30px;display: flex">

                    <div class="col-lg-3">
                        <div style="width: 280px">
                            <div mbsc-page class="demo-multiple-select">
                                <div style="height: 100%">
                                    <label>
                                        Thể loại phim
                                        <input
                                                mbsc-input
                                                id="demo-multiple-select-input2"
                                                placeholder="Please select..."
                                                data-dropdown="true"
                                                data-input-style="outline"
                                                data-label-style="stacked"
                                                data-tags="true"
                                        />
                                    </label>
                                    <select id="demo-multiple-select2" name="movieType" multiple>
                                        <option th:each="movieType : ${movieTypes}" th:value="${movieType.name}"
                                                th:text="${movieType.name}">
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div style="width: 280px; margin: 0px 0px 0px -15px">
                            <div mbsc-page class="demo-multiple-select">
                                <div style="height: 100%">
                                    <label>
                                        Đạo diễn
                                        <input
                                                mbsc-input
                                                id="demo-multiple-select-input1"
                                                placeholder="Please select..."
                                                data-dropdown="true"
                                                data-input-style="outline"
                                                data-label-style="stacked"
                                                data-tags="true"
                                        />
                                    </label>
                                    <select id="demo-multiple-select1" name="director" multiple>
                                        <option th:each="director : ${directors}" th:value="${director.name}"
                                                th:text="${director.name}">
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div style="width: 280px">
                            <div mbsc-page class="demo-multiple-select">
                                <div style="height: 100%">
                                    <label>
                                        Diễn viên
                                        <input
                                                mbsc-input
                                                id="demo-multiple-select-input4"
                                                placeholder="Please select..."
                                                data-dropdown="true"
                                                data-input-style="outline"
                                                data-label-style="stacked"
                                                data-tags="true"
                                        />
                                    </label>
                                    <select id="demo-multiple-select4" name="performer" multiple>
                                        <option th:each="performer : ${performers}" th:value="${performer.name}"
                                                th:text="${performer.name}">
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div style="width: 280px">
                            <div mbsc-page class="demo-multiple-select">
                                <div style="height: 100%">
                                    <label>
                                        Ngôn ngữ
                                        <input
                                                mbsc-input
                                                id="demo-multiple-select-input3"
                                                placeholder="Please select..."
                                                data-dropdown="true"
                                                data-input-style="outline"
                                                data-label-style="stacked"
                                                data-tags="true"
                                        />
                                    </label>
                                    <select id="demo-multiple-select3" name="language" multiple>
                                        <option th:each="language : ${languages}" th:value="${language.name}"
                                                th:text="${language.name}">
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button style="width: 100px;height: 50px;margin-top: 26px;" type="submit" class="btn btn-success"
                            onclick="overLoad()">Tìm kiếm
                    </button>

                </div>
            </form>
            <div class="khoi">
                <th:block th:each="movie : ${listmovie}">
                    <figure class="snip1208">
                        <img th:src="@{'http://localhost:8080/admin/assets/img/' + ${movie.image}}"
                             style="width: 100%; height: 459px">
                        <div class="date"><span class="day">[[${movie.rated.code}]]</span><span
                                class="month">Trailer</span></div>
                        <i class="myBtn" data-toggle="modal" data-target="#myModal"
                           th:attrappend="data-target=${movie.id}"> Xem trailer</i>
                        <figcaption>
                            <h3>
                                <a th:href="@{'/filmbooking/movie/edit/' + ${movie.id}}">[[${movie.name}]]</a>
                            </h3>
                            <p>
                                - Thể loại:
                                <span th:each="type, iterStat : ${movie.movieTypes}">
                                        <span th:text="${type.name}"></span>
                                        <span th:if="${!iterStat.last}">, </span>
                                </span>
                                <br>
                                - Thời lượng: [[${movie.movieDuration}]] phút <br>
                                - Ngày khởi chiếu: <span
                                    th:text="${#dates.format(movie.premiereDate, 'yyyy-MM-dd')}"></span><br>
                            </p>

                            <th:block th:if="${customer == null}">
                                <button data-toggle="modal" data-target="#myModalll">Đặt vé</button>
                            </th:block>

                            <th:block th:unless="${customer == null}">
                                <button><a th:href="@{'/show/cinema?movieId='+${movie.id}}">Mua Vé</a></button>
                            </th:block>
                            <!--                            <button ><a th:href="@{'/show/cinema?movieId='+${movie.id}}">Đặt vé</a></button>-->
                        </figcaption>
                    </figure>
                </th:block>

            </div>
        </div>
        <div class="panel" id="two-panel">
            <div class="khoi">
                <th:block th:each="movie1 : ${listmovie1}">
                    <figure class="snip1208">
                        <img th:src="@{'http://localhost:8080/admin/assets/img/' + ${movie1.image}}"
                             style="width: 100%; height: 459px">
                        <div class="date"><span class="day">[[${movie1.rated.code}]]</span><span
                                class="month">Trailer</span></div>
                        <i class="myBtnn" data-toggle="modal" data-target="#myModall"
                           th:attrappend="data-target=${movie1.id}"> Xem trailer</i>
                        <figcaption>
                            <h3>
                                <a th:href="@{'/filmbooking/movie/edit/' + ${movie1.id}}">[[${movie1.name}]]</a>
                            </h3>
                            <p>
                                - Thể loại:
                                <span th:each="type, iterStat : ${movie1.movieTypes}">
                                        <span th:text="${type.name}"></span>
                                        <span th:if="${!iterStat.last}">, </span>
                                </span>
                                - Thời lượng: [[${movie1.movieDuration}]] phút<br>
                                - Ngày khởi chiếu: <span
                                    th:text="${#dates.format(movie1.premiereDate, 'yyyy-MM-dd')}"></span><br>
                            </p>
                            <!--                            <button ><a th:href="@{'/rap?movieId='+${movie1.id}}">Đặt vé</a>          </button>  -->
                        </figcaption>
                    </figure>
                </th:block>
            </div>
        </div>

    </div>
</div>
<!-- gọi trailer phim đang chiếu -->
<th:block th:each="movie : ${listmovie}">
    <div id="myModal" th:attrappend="id=${movie.id}" class="modal">
        <div class="modal-content">
            <span class="close" data-dismiss="modal">&times;</span>
            <h2>TRAILER - [[${movie.name}]]</h2>
            <hr style="margin-top: 20px; opacity: 0.5">
            <div class="embed-responsive embed-responsive-16by9 video">
                <iframe width="80%" height="315" th:src="${movie.trailer}"
                        title="YouTube video player" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen></iframe>
            </div>
        </div>
    </div>
</th:block>
<!--  gọi trailer phim sắp chiếu-->
<th:block th:each="movie1 : ${listmovie1}">
    <div id="myModall" th:attrappend="id=${movie1.id}" class="modal">
        <div class="modal-content">
            <span class="closee" data-dismiss="modal">&times;</span>
            <h2>TRAILER - [[${movie1.name}]]</h2>
            <hr style="margin-top: 20px; opacity: 0.5">
            <div class="embed-responsive embed-responsive-16by9 video">
                <iframe width="80%" height="315" th:src="${movie1.trailer}"
                        title="YouTube video player" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen></iframe>
            </div>
        </div>
    </div>
</th:block>

<!---->
<br>
<section class="khuyenmai">
    <h3>KHUYẾN MÃI</h3>
    <div class="khoi1">
        <div class="card">
            <div class="header">
                <img th:src="@{/users/img/khuyenmai.jpg}" alt="sample66"/>
            </div>
            <div class="info">
                <a rel="noopener noreferrer" href="" class="block">
                    <span class="title">CHƯƠNG TRÌNH PHIM HÈ 2023 (Từ 26/5/2023 đến 30/6/2023) </span>
                </a>
            </div>
        </div>
        <div class="card">
            <div class="header">
                <img th:src="@{/users/img/khuyenmai.jpg}" alt="sample66"/>
            </div>
            <div class="info">
                <a rel="noopener noreferrer" href="" class="block">
                    <span class="title">CHƯƠNG TRÌNH PHIM HÈ 2023 (Từ 26/5/2023 đến 30/6/2023) </span>
                </a>
            </div>
        </div>
        <div class="card">
            <div class="header">
                <img th:src="@{/users/img/khuyenmai.jpg}" alt="sample66"/>
            </div>
            <div class="info">
                <a rel="noopener noreferrer" href="" class="block">
                    <span class="title">CHƯƠNG TRÌNH PHIM HÈ 2023 (Từ 26/5/2023 đến 30/6/2023) </span>
                </a>
            </div>
        </div>
        <div class="card">
            <div class="header">
                <img th:src="@{/users/img/khuyenmai.jpg}" alt="sample66"/>
            </div>
            <div class="info">
                <a rel="noopener noreferrer" href="" class="block">
                    <span class="title">CHƯƠNG TRÌNH PHIM HÈ 2023 (Từ 26/5/2023 đến 30/6/2023) </span>
                </a>
            </div>
        </div>
    </div>
</section>
<!--hiển thị thông báo khi chưa đăng nhập-->
<div class="modal" id="myModalll">
    <div class="Mes ">
        <h2 class="Modal-InText">
            Khách hàng cần đăng nhập khi đặt vé !!
        </h2>
        <button class="Modal-InBtn Btn-Right"><a style="text-decoration: none; color: #000000"
                                                 href="/filmbooking/login">OK</a></button>
        <button class="Modal-InBtn Btn-Left" data-dismiss="modal">HỦY</button>
    </div>
</div>

<div th:replace="~{/layout/Footer :: footer}"></div>
<script src="https://tudongchat.com/js/chatbox.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script th:inline="javascript">const tudong_chatbox = new TuDongChat("C1tWgbGRbc6iYpd-oBqPI");
tudong_chatbox.initial();
mobiscroll.setOptions({
    locale: mobiscroll.localeEn,
    theme: "ios",
    themeVariant: "light",
});

mobiscroll.select("#demo-multiple-select1", {
    inputElement: document.getElementById("demo-multiple-select-input1"),
});
mobiscroll.select("#demo-multiple-select2", {
    inputElement: document.getElementById("demo-multiple-select-input2"),
});
mobiscroll.select("#demo-multiple-select3", {
    inputElement: document.getElementById("demo-multiple-select-input3"),
});
mobiscroll.select("#demo-multiple-select4", {
    inputElement: document.getElementById("demo-multiple-select-input4"),
});
</script>
</body>
<script src="https://unpkg.com/ionicons@5.4.0/dist/ionicons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/js/all.min.js"></script>
<script th:src="@{/users/js/web.js}"></script>

</html>
